# Инструкция по развертыванию реестра претензий

## 1. Подготовка к развертыванию

### 1.1. Создание проекта в Firebase

1. Перейдите на сайт [Firebase Console](https://console.firebase.google.com/)
2. Нажмите "Создать проект"
3. Введите название проекта (например, "реестр-претензий")
4. Следуйте инструкциям мастера создания проекта
5. После создания проекта, нажмите на иконку веб-приложения (</>) для добавления веб-приложения
6. Зарегистрируйте приложение с любым названием
7. Скопируйте конфигурацию Firebase (объект firebaseConfig)

### 1.2. Настройка Firebase

1. В консоли Firebase перейдите в раздел "Firestore Database"
2. Нажмите "Создать базу данных"
3. Выберите "Начать в тестовом режиме"
4. Выберите ближайший к вам регион
5. Нажмите "Включить"

### 1.3. Настройка правил безопасности

1. В разделе "Firestore Database" перейдите на вкладку "Правила"
2. Замените правила на следующие:

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true;  // Внимание: это правило разрешает доступ всем. В продакшене нужно настроить аутентификацию
    }
  }
}
```

## 2. Настройка приложения

1. Откройте файл `app.js`
2. Найдите объект `firebaseConfig`
3. Замените значения на те, которые вы скопировали при создании проекта Firebase

## 3. Развертывание на хостинге

### 3.1. Вариант 1: Firebase Hosting (рекомендуется)

1. Установите Firebase CLI:
   ```bash
   npm install -g firebase-tools
   ```

2. Войдите в Firebase:
   ```bash
   firebase login
   ```

3. Инициализируйте проект:
   ```bash
   firebase init
   ```
   - Выберите "Hosting"
   - Выберите ваш проект
   - Укажите "public" как директорию для публикации
   - Настройте как одностраничное приложение: "No"
   - Не перезаписывайте index.html: "No"

4. Скопируйте все файлы проекта в директорию "public"

5. Разверните приложение:
   ```bash
   firebase deploy
   ```

### 3.2. Вариант 2: GitHub Pages

1. Создайте репозиторий на GitHub
2. Загрузите все файлы проекта в репозиторий
3. В настройках репозитория включите GitHub Pages
4. Выберите ветку main и директорию / (root)

## 4. Настройка доступа

### 4.1. Настройка домена (опционально)

1. В консоли Firebase перейдите в раздел "Hosting"
2. Нажмите "Добавить домен"
3. Следуйте инструкциям по настройке DNS

### 4.2. Настройка аутентификации (рекомендуется)

1. В консоли Firebase перейдите в раздел "Authentication"
2. Включите метод входа "Email/Password"
3. Добавьте пользователей через консоль или настройте саморегистрацию

## 5. Использование

1. Откройте приложение по URL, предоставленному Firebase Hosting или GitHub Pages
2. Начните добавлять претензии через форму
3. Используйте функцию экспорта в Excel для создания отчетов

## 6. Обновление приложения

1. Внесите необходимые изменения в файлы
2. Повторите процесс развертывания:
   ```bash
   firebase deploy
   ```

## 7. Резервное копирование

1. В консоли Firebase перейдите в раздел "Firestore Database"
2. Нажмите "Экспорт"
3. Выберите место для сохранения данных
4. Для восстановления используйте функцию "Импорт"

## 8. Безопасность

1. Регулярно обновляйте зависимости
2. Настройте правила безопасности в Firebase
3. Используйте HTTPS
4. Регулярно делайте резервные копии данных

## 9. Поддержка

При возникновении проблем:
1. Проверьте консоль браузера на наличие ошибок
2. Проверьте логи в консоли Firebase
3. Убедитесь, что все зависимости установлены
4. Проверьте подключение к интернету 